<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="App.css">
    <link rel="icon" href="images\logo.svg" type="image/png">
    <title>Heritage Hideaways</title>
</head>
<body>
    <!-- Cookie Banner -->
    <div id="cookieBanner" class="cookie-banner">
        <p>Diese Website verwendet Cookies, um Ihnen die bestmögliche Nutzererfahrung zu bieten. 
        <a href="cookies.html" class="text-primary">Erfahren Sie mehr</a> über die Verwendung von Cookies. 
        Durch Klicken auf "Akzeptieren" stimmen Sie der Verwendung von Cookies zu.
        </p>
        <button id="acceptCookies" class="btn btn-primary">Akzeptieren</button>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <img src="images\logo.svg" alt="Logo" width="150" height="150">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="#" onclick="showSection('home')">Startseite</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="showSection('about')">Ferienwohnungen</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="showSection('contact')">Kontakt</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#add-property" id="addApartmentLink" onclick="showAddPropertyForm()" style="display: none;">Ferienwohnung hinzufügen</a>
                </li>
            </ul>
            <div class="ml-auto" id="auth-buttons">
                <button class="btn btn-primary" data-toggle="modal" data-target="#loginModal">Anmelden</button>
                <button class="btn btn-secondary" data-toggle="modal" data-target="#registerModal">Registrieren</button>
            </div>
            <div class="ml-auto" id="user-area" style="display: none;">
                <span id="welcome-message"></span>
                <button class="btn btn-danger" id="logout-button">Abmelden</button>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <div id="home" class="content-section">
            <h1>Willkommen bei Heritage Hideaways!</h1>
            <!-- YouTube-Video einbetten -->
        <div class="embed-responsive embed-responsive-16by9">
            <iframe class="embed-responsive-item" width="560" height="315" src="https://www.youtube.com/embed/MAN9m-ixvSA?si=71pwWxnMj1t1n-pG&amp;start=11" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>" 
                    allowfullscreen></iframe>
        </div>
            <p>Willkommen bei The Heritage Hideaways, wo Luxus und Tradition aufeinandertreffen. Unsere erlesenen Ferienhäuser im Old Money-Stil bieten Ihnen die perfekte Kombination aus Eleganz, Diskretion und zeitlosem Charme. Jedes unserer exklusiven Anwesen wurde sorgfältig ausgewählt, um Ihnen ein einzigartiges Urlaubserlebnis zu bieten – geprägt von Raffinesse, Geschichte und höchsten Standards.
                Ob Sie die Ruhe eines ländlichen Herrenhauses oder die klassische Eleganz einer Villa am Meer suchen, unsere Residenzen verkörpern die Werte von Beständigkeit, Qualität und Klasse. Jedes Haus ist eine Hommage an vergangene Epochen und bietet zugleich moderne Annehmlichkeiten für Ihren Komfort.
                Bei uns geht es nicht nur um das Buchen eines Ferienhauses – es geht darum, in eine Welt einzutauchen, in der Luxus und Tradition noch zählen. Buchen Sie Ihr privates Refugium und erleben Sie das zeitlose Lebensgefühl, das unsere Auswahl so besonders macht.</p>
        </div>
        
        <div id="about" class="content-section" style="display: none;">
            <h2>Ferienwohnungen</h2>  
        </div>
            
        <div id="contact" class="content-section" style="display: none;">
            <h2>Kontakt</h2>
            <form id="contactForm">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" class="form-control" id="name" required>
                </div>
                <div class="form-group">
                    <label for="email">E-Mail:</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="form-group">
                    <label for="message">Nachricht:</label>
                    <textarea class="form-control" id="message" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Nachricht senden</button>
                <div id="formStatus" class="mt-2"></div>
            </form>
        </div>
    </div>

    <!-- Buchungsmodal -->
    <div class="modal fade" id="bookingModal" tabindex="-1" role="dialog" aria-labelledby="bookingModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="bookingModalLabel"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="bookingModalBody">
                    <!-- Buchungsdetails hier -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Schließen</button>
                    <button type="button" class="btn btn-primary" id="confirmBooking">Buchung bestätigen</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ferienwohnung hinzufügen -->
<div id="add-property" style="display: none;">
    <h2>Ferienwohnung hinzufügen</h2>
    <form id="property-form" enctype="multipart/form-data">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br>

        <label for="description">Beschreibung:</label>
        <textarea id="description" name="description" required></textarea><br>

        <label for="availability">Verfügbarkeit (durch Kommas getrennt):</label>
        <input type="text" id="availability" name="availability" required><br>

        <label for="price">Preis:</label>
        <input type="number" id="price" name="price" required><br>

        <label for="image">Bild hochladen:</label>
        <input type="file" id="image" name="image" accept="image/*" required><br>

        <button type="submit">Ferienwohnung hinzufügen</button>
    </form>
    <div id="response-message"></div>
</div>

    <!-- Anmelde-Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Anmelden</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginEmail">E-Mail:</label>
                            <input type="email" class="form-control" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Passwort:</label>
                            <input type="password" class="form-control" id="loginPassword" required>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="isProvider">
                            <label class="form-check-label" for="isProvider">Ich bin Anbieter</label>
                        </div>
                        <div id="loginStatus" class="text-danger"></div>
                        <button type="submit" class="btn btn-primary">Anmelden</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Registrierungsmodal -->
    <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerModalLabel">Registrieren</h5>
                    <button type="button" class="close" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="registerUsername">Benutzername:</label>
                            <input type="text" class="form-control" id="registerUsername" required>
                        </div>
                        <div class="form-group">
                            <label for="registerEmail">E-Mail:</label>
                            <input type="email" class="form-control" id="registerEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPassword">Passwort:</label>
                            <input type="password" class="form-control" id="registerPassword" required>
                        </div>
                        <div id="registerStatus" class="text-danger"></div>
                        <button type="submit" class="btn btn-primary">Registrieren</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="App.js"></script> <!-- Benutzerdefinierte JS-Datei -->

    <script>
        // Funktion zur Abmeldung
        async function logoutUser() {
            try {
                const response = await fetch('/api/logout', {
                    method: 'POST'
                });

                if (response.ok) {
                    // Seite nach erfolgreichem Logout neu laden
                    location.reload();
                } else {
                    const error = await response.text();
                    console.error('Logout error:', error);
                }
            } catch (error) {
                console.error('Fehler bei der Abmeldung:', error);
            }
        }

        // Event für den Logout-Button
        document.getElementById('logout-button').addEventListener('click', function() {
            logoutUser();
        });
    </script>
</body>
<!-- Footer -->
<footer class="bg-light text-center text-lg-start mt-4">
    <div class="container p-4">
      <div class="row">
        <div class="col-md-12">
          <ul class="list-unstyled d-flex justify-content-center">
            <li class="mx-3">
              <a href="about.html" class="text-dark">About</a>
            </li>
            <li class="mx-3">
              <a href="impressum.html" class="text-dark">Impressum</a>
            </li>
            <li class="mx-3">
              <a href="cookies.html" class="text-dark">Cookies</a>
            </li>
            <li class="mx-3">
                <a href="raetsel.html" class="text-dark">Top Secret</a>
                <div class="math-container">
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 2024 Heritage Hideaways
    </div>
  </footer>
</html>
